{
 "align_labels_right": 0,
 "creation": "2021-05-07 12:31:32.643649",
 "css": "#datumszeile {\n    margin-top: 75px;\n    margin-bottom: 12px;\n}\n\n#anschrift {\n    padding-top: 45px !important;\n    min-height: 130px;\n    line-height: 1.2em;\n}\n\n@font-face {\n    font-family: daxline;\n    src: url('/assets/mietrechtspraxis/fonts/daxline_w01_regular/bbfcf1aa-d115-47af-9a17-20cd6809531d.woff');\n}\n\n@font-face {\n    font-family: daxlineBold;\n    src: url('/assets/mietrechtspraxis/fonts/daxline_w01_bold/fe2da1f8-8be5-44dd-ac81-edc4fc5564d6.woff');\n}\n\n.print-format {\n  font-family: daxline;\n  font-size: 10pt;\n  line-height: 13.5pt;\n}\n\n.print-format b {\n  font-family: daxlineBold;\n}\n\n.print-format {\n margin-left: 0mm;\n margin-top: 42mm;\n margin-bottom: 0mm;\n margin-right: 0mm;\n}\n\n#allinone {\n    margin-left: 25mm;\n    margin-right: 19.5mm;\n}\n",
 "custom_format": 1,
 "default_print_language": "de",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Helvetica",
 "html": "<!-- HEAD -->\n{% if not no_letterhead %}\n    <div  id=\"header-html\" class=\"hidden-pdf\" >\n        {% set letter_head = frappe.get_doc(\"Letter Head\", \"Invoice mietrechtspraxis | mp\") %}\n        {% if letter_head %}\n          {{ letter_head.content }}\n        {% else %}\n          <p>Letter head not found. Please define the letter head under print settings.</p>\n        {% endif %}\n    </div>\n{% endif %}\n<div id=\"allinone\">\n    <!-- load customer -->\n    {% set customer = frappe.get_doc(\"Customer\", doc.customer) %}\n    <!-- load contact -->\n    {% set contact = frappe.get_doc(\"Contact\", doc.contact_person) %}\n    <!-- load address -->\n    {% set address = frappe.get_doc(\"Address\", doc.customer_address) %}\n    <!-- load invoice year and abo name -->\n    {% set invoice_year = frappe.get_all('mp Abo Invoice', filters={'sales_invoice': doc.name}, fields=['year', 'parent']) %}\n    <!-- load abo -->\n    {% set abo = frappe.get_doc(\"mp Abo\", invoice_year[0].parent) %}\n    <div style=\"min-height: 50px !important;\">&nbsp</div>\n    <div id=\"anschrift\" style=\"background-image: url('/assets/mietrechtspraxis/img/PP-AZ101-46039.png'); background-size: 300px 100px; background-repeat: no-repeat;\">\n        {% if customer.customer_type == 'Company' %}\n            {{ customer.customer_name }}<br>\n            {% if customer.customer_addition %}\n                {{ customer.customer_addition }}<br>\n            {% endif %}\n            {% if customer.customer_name | replace(\" \", \"\") != contact.first_name | replace(\" \", \"\") + contact.last_name | replace(\" \", \"\") %}\n                {{ contact.first_name }} {{ contact.last_name }}<br>\n            {% endif %}\n        {% else %}\n            {{ contact.first_name }} {{ contact.last_name }}<br>\n        {% endif %}\n        {% if address.address_line2 %}\n            {{ address.address_line2 }}<br>\n        {% endif %}\n        {{ address.address_line1 }}{% if address.postfach %} {{ address.postfach_nummer }}{% endif %}<br>\n        {{ address.pincode }} {{ address.city }}\n    </div>\n    <div id=\"datumszeile\">{{ _(\"Z\u00fcrich\") }}, {{ frappe.utils.get_datetime(doc.posting_date).strftime('%d. ') }}{{ _(frappe.utils.get_datetime(doc.posting_date).strftime('%B'), \"de\") }}&nbsp{{ frappe.utils.get_datetime(doc.posting_date).strftime('%Y') }}<span class=\"pull-right\">Anz. Ex.: {{ abo.magazines_qty_ir }}</span></div>\n    <div id=\"inhalt\">\n        <p><b>{{ _(\"Rechnung f\u00fcr das Jahresabonnement\") }}&nbsp{{ invoice_year[0].year }}&nbsp{{ _(\"\u00abmietrechtspraxis | mp\u00bb\") }}&nbsp{{ doc.name }}</b></p>\n        <table style=\"Width: 100%;\">\n            <tr style=\"border-bottom: 1px solid black;\">\n                <td style=\"padding-bottom: 0px !important; width: 15%;\">{{ _(\"Anzahl\") }}</td>\n                <td style=\"padding-bottom: 0px !important; width: 45%;\">{{ _(\"Artikel\") }}</td>\n                <td style=\"padding-bottom: 0px !important; width: 25%;\">{{ _(\"Einzelpreis\") }}</td>\n                <td style=\"padding-bottom: 0px !important; width: 15%;\">{{ _(\"Betrag\") }}</td>\n            </tr>\n            {% for item in doc.items %}\n                <tr style=\"border-bottom: 1px solid black;\">\n                    <td style=\"padding-bottom: 0px !important;\">{{ item.qty|int }}</td>\n                    <td style=\"padding-bottom: 0px !important;\">{{ item.item_name }}</td>\n                    <td style=\"padding-bottom: 0px !important;\">Fr. {{ \"{:,.2f}\".format(item.rate).replace(\",\", \"'\") }}</td>\n                    <td style=\"padding-bottom: 0px !important;\">{{ \"{:,.2f}\".format(item.amount).replace(\",\", \"'\") }}</td>\n                </tr>\n            {% endfor %}\n            <tr>\n                <td colspan=\"2\" style=\"font-size: 8pt;\">{{ _(\"Zahlbar 30 Tage netto\") }}</td>\n                <td colspan=\"2\" style=\"font-size: 8pt;\">{{ _(\"inkl. MwSt. 2.5%<br>UID: CHE-100.822.971 MWST\") }}</td>\n            </tr>\n        </table>\n        <p style=\"margin: 12px 0px 12px;\">{{ _(\"Sie erhalten mit der n\u00e4chsten Ausgabe\") }}:</p>\n        <p style=\"margin-left: 50px;\">&#10148; {{ _(\"Die Brosch\u00fcre \u00abDaten und Adressen zum Mietrecht\u00bb\") }}</p>\n        <p style=\"margin: 12px 0px 12px;\">{{ _(\"Mit bestem Dank und freundlichen Gr\u00fcssen\") }}<br>mietrechtspraxis | mp</p>\n    </div>\n</div>\n\n<!-- QRR Section -->\n\n<!-- payer details -->\n{% if doc.customer_address %}\n    {% set pay_addr = frappe.get_doc(\"Address\", doc.customer_address) %}\n    {% if pay_addr %}\n        <!-- get values -->\n        {% if pay_addr.postfach %}\n            <!-- postfach -->\n            {% set pay_country = frappe.get_doc(\"Country\", pay_addr.country) %}\n            {% set pay_country_code = pay_country.code | upper %}\n            {% if pay_addr.postfach_nummer %}\n                {% set postfach_nummer = pay_addr.postfach_nummer %}\n            {% else %}\n                {% set postfach_nummer = ' ' %}\n            {% endif %}\n            {% set pay_address_line_detail = {'name': doc.customer, 'street': 'Postfach', 'number': postfach_nummer, 'pin': pay_addr.pincode, 'city': pay_addr.city, 'country': pay_country_code } %}\n        {% else %}\n            <!-- street -->\n            {% set pay_address_trimed = pay_addr.address_line1 | trim %}\n            {% set pay_address_array = pay_address_trimed.split(\" \") %}\n            {% set pay_address_line_item_count = pay_address_array | count %}\n            {% set pay_country = frappe.get_doc(\"Country\", pay_addr.country) %}\n            {% set pay_country_code = pay_country.code | upper %}\n            {% set pay_address_line_detail = {'name': doc.customer, 'street': '', 'number': '', 'pin': pay_addr.pincode, 'city': pay_addr.city, 'country': pay_country_code } %}\n            {% for i in range(0, (pay_address_line_item_count - 1)) %}\n                {% if pay_address_line_detail.update({'street': pay_address_line_detail.street + \" \" + pay_address_array[i] }) %}{% endif %}\n            {% endfor %}\n            {% if pay_address_line_detail.update({'number': pay_address_array[pay_address_line_item_count - 1]}) %}{% endif %}\n        {% endif %}\n        \n        <!-- set values -->\n        {% set payer_name = doc.customer_name %}\n        {% set payer_street = pay_address_line_detail.street %}\n        {% set payer_number = pay_address_line_detail.number %}\n        {% set payer_pincode = pay_address_line_detail.pin %}\n        {% set payer_town = pay_address_line_detail.city %}\n        {% set payer_country = pay_address_line_detail.country %}\n    {% endif %}\n{% else %}\n    {% set payer_name = False %}\n    {% set payer_street = False %}\n    {% set payer_number = False %}\n    {% set payer_pincode = False %}\n    {% set payer_town = False %}\n    {% set payer_country = False %}\n{% endif %}\n\n<!-- receiver details -->\n{% if doc.company_address %}\n    {% set cmp_addr = frappe.get_doc(\"Address\", doc.company_address) %}\n    {% if cmp_addr %}\n        <!-- get values -->\n        {% set address_array = cmp_addr.address_line1.split(\" \") %}\n        {% set address_line_item_count = address_array | count %}\n        {% set cmp_country = frappe.get_doc(\"Country\", cmp_addr.country) %}\n        {% set cmp_country_code = cmp_country.code | upper %}\n        {% set cmp_address_line_detail = {'name': doc.company, 'street': '', 'number': '', 'plz': cmp_addr.plz, 'city': cmp_addr.city, 'country': cmp_country_code } %}\n        {% for i in range(0, (address_line_item_count - 1)) %}\n            {% if cmp_address_line_detail.update({'street': cmp_address_line_detail.street + \" \" + address_array[i] }) %}{% endif %}\n        {% endfor %}\n        {% if cmp_address_line_detail.update({'number': address_array[address_line_item_count - 1]}) %}{% endif %}\n        \n        <!-- set values -->\n        {% set receiver_name = cmp_address_line_detail.name | replace(\"|\", \"I\") %}\n        {% set receiver_street = cmp_address_line_detail.street %}\n        {% set receiver_number = cmp_address_line_detail.number %}\n        {% set receiver_pincode = cmp_address_line_detail.plz %}\n        {% set receiver_town = cmp_address_line_detail.city %}\n        {% set receiver_country = cmp_address_line_detail.country %}\n    {% endif %}\n{% else %}\n    {% set receiver_name = False %}\n    {% set receiver_street = False %}\n    {% set receiver_number = False %}\n    {% set receiver_pincode = False %}\n    {% set receiver_town = False %}\n    {% set receiver_country = False %}\n{% endif %}\n\n<!-- qrr dict -->\n{% set qrr = {\n    'top_position': '565px',\n    'iban': 'CH68 3000 0002 8878 4152 8',\n    'reference': doc.esr_reference,\n    'reference_type': 'QRR',\n    'currency': doc.currency,\n    'amount': \"{:,.2f}\".format(doc.outstanding_amount).replace(\",\", \"'\"),\n    'message': doc.name,\n    'additional_information': ' ',\n    'receiver_name': receiver_name,\n    'receiver_street': receiver_street,\n    'receiver_number': receiver_number,\n    'receiver_country': receiver_country,\n    'receiver_pincode': receiver_pincode,\n    'receiver_town': receiver_town,\n    'payer_name': payer_name,\n    'payer_street': payer_street,\n    'payer_number': payer_number,\n    'payer_country': payer_country,\n    'payer_pincode': payer_pincode,\n    'payer_town': payer_town\n} %}\n{% if doc.outstanding_amount > 0 %}\n    {{ frappe.render_template('templates/qrr_invoice/qrr_invoice.html', {'qrr': qrr}) }}\n{% endif %}",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2021-11-15 21:53:30.735129",
 "modified_by": "Administrator",
 "module": "mietrechtspraxis",
 "name": "Jahresrechnung inkl",
 "owner": "Administrator",
 "print_format_builder": 1,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}